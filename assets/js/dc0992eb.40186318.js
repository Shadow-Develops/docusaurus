"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[8385],{916(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"cdnManager/install/config","title":"Configuration","description":"You now have the server and files setup, so we can get to configuring the basics. This guide will go over every line of the .env file.\\\\","source":"@site/docs/cdnManager/install/config.md","sourceDirName":"cdnManager/install","slug":"/cdnManager/install/config","permalink":"/cdnManager/install/config","draft":false,"unlisted":false,"editUrl":"https://github.com/Shadow-Develops/docusaurus/tree/main/docs/cdnManager/install/config.md","tags":[],"version":"current","lastUpdatedAt":1767744150000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"cdnManager","previous":{"title":"Files & Nginx","permalink":"/cdnManager/install/files"},"next":{"title":"Staring CDN Manager","permalink":"/cdnManager/install/starting"}}');var r=i(4848),l=i(8453);const o={sidebar_position:4},d="Configuration",c={},a=[{value:"Required Settings",id:"required-settings",level:2},{value:"License Key",id:"license-key",level:3},{value:"Server Configuration",id:"server-configuration",level:3},{value:"Database",id:"database",level:3},{value:"Domain Settings",id:"domain-settings",level:3},{value:"Owner Permissions",id:"owner-permissions",level:2},{value:"Email Configuration",id:"email-configuration",level:2},{value:"Option 1: SendGrid (Recommended)",id:"option-1-sendgrid-recommended",level:3},{value:"Option 2: SMTP",id:"option-2-smtp",level:3},{value:"Complete Example",id:"complete-example",level:2}];function t(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,r.jsxs)(n.p,{children:["You now have the server and files setup, so we can get to configuring the basics. This guide will go over every line of the ",(0,r.jsx)(n.code,{children:".env"})," file.",(0,r.jsx)(n.br,{}),"\nEnvironment variables are stored securely in your ",(0,r.jsx)(n.code,{children:".env"})," file rather than the database to protect sensitive configuration."]}),"\n",(0,r.jsx)(n.h2,{id:"required-settings",children:"Required Settings"}),"\n",(0,r.jsx)(n.h3,{id:"license-key",children:"License Key"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"LICENSE_KEY="}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Get this from ",(0,r.jsx)(n.a,{href:"https://shadowdevs.com/license",children:"https://shadowdevs.com/license"})," - it should be a simple string"]}),"\n",(0,r.jsx)(n.li,{children:"This is your license from Shadow Devs to use CDN Manager"}),"\n",(0,r.jsx)(n.li,{children:"Required for the application to function"}),"\n",(0,r.jsx)(n.li,{children:"Verified with a 72-hour grace period"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"server-configuration",children:"Server Configuration"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"PORT=3001"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The port your application will run on"}),"\n",(0,r.jsxs)(n.li,{children:["By default it's ",(0,r.jsx)(n.code,{children:"3001"}),", but you can change it to any valid port number"]}),"\n",(0,r.jsx)(n.li,{children:"Make sure this port is not already in use"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"HOST=localhost"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This modifies how SvelteKit interacts with the server"}),"\n",(0,r.jsxs)(n.li,{children:["Keep as ",(0,r.jsx)(n.code,{children:"localhost"})," unless you have specific networking requirements"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"BODY_SIZE_LIMIT=50000000000"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Maximum request body size (50GB by default)"}),"\n",(0,r.jsx)(n.li,{children:"This allows for large file uploads"}),"\n",(0,r.jsx)(n.li,{children:"Adjust based on your maximum file size needs"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"database",children:"Database"}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MONGO_URL="}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The MongoDB connection URL for your database"}),"\n",(0,r.jsxs)(n.li,{children:["If you do not add any password lock to your database and leave it as local only, you can use: ",(0,r.jsx)(n.code,{children:"mongodb://127.0.0.1:27017/cdnmanager"})]}),"\n",(0,r.jsxs)(n.li,{children:["For production, consider using authentication: ",(0,r.jsx)(n.code,{children:"mongodb://username:password@127.0.0.1:27017/cdnmanager"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"domain-settings",children:"Domain Settings"}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"ORIGIN="})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Your full domain URL, including the protocol"}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:"https://cdn.yourdomain.com"})]}),"\n",(0,r.jsxs)(n.li,{children:["Must include ",(0,r.jsx)(n.code,{children:"https://"})," (or ",(0,r.jsx)(n.code,{children:"http://"})," for development)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"PUBLIC_DOMAIN="})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Just your domain name without the protocol"}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:"cdn.yourdomain.com"})]}),"\n",(0,r.jsx)(n.li,{children:"Used for email links and public CDN routes"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"owner-permissions",children:"Owner Permissions"}),"\n",(0,r.jsxs)(n.ol,{start:"8",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'OWNERS=["email@example.com"]'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Must be a JSON array of email addresses"}),"\n",(0,r.jsx)(n.li,{children:"Users who log in with these emails will have full owner permissions"}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:'OWNERS=["admin@example.com","owner@example.com"]'})]}),"\n",(0,r.jsx)(n.li,{children:"These users bypass all permission checks"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"email-configuration",children:"Email Configuration"}),"\n",(0,r.jsx)(n.p,{children:"CDN Manager uses email for authentication. You can use either SendGrid or SMTP."}),"\n",(0,r.jsx)(n.h3,{id:"option-1-sendgrid-recommended",children:"Option 1: SendGrid (Recommended)"}),"\n",(0,r.jsxs)(n.ol,{start:"9",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SENDGRID_KEY="}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Head to the ",(0,r.jsx)(n.a,{href:"https://app.sendgrid.com/settings/api_keys",children:"SendGrid API Keys"})," page"]}),"\n",(0,r.jsx)(n.li,{children:'Create an API key with "Mail Send" permissions'}),"\n",(0,r.jsx)(n.li,{children:"Copy and paste the key here"}),"\n",(0,r.jsx)(n.li,{children:"If using SendGrid, you don't need to configure SMTP settings"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"option-2-smtp",children:"Option 2: SMTP"}),"\n",(0,r.jsx)(n.p,{children:"If you're not using SendGrid, configure your SMTP server:"}),"\n",(0,r.jsxs)(n.ol,{start:"10",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"SMTP_HOST="})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The host address for your SMTP server"}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:"smtp.gmail.com"})]}),"\n",(0,r.jsxs)(n.li,{children:["Set to ",(0,r.jsx)(n.code,{children:"null"})," if using SendGrid"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"SMTP_PORT="})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The port for your SMTP server"}),"\n",(0,r.jsxs)(n.li,{children:["Common ports: ",(0,r.jsx)(n.code,{children:"587"})," (TLS), ",(0,r.jsx)(n.code,{children:"465"})," (SSL), ",(0,r.jsx)(n.code,{children:"25"})," (unsecured)"]}),"\n",(0,r.jsxs)(n.li,{children:["Set to ",(0,r.jsx)(n.code,{children:"null"})," if using SendGrid"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"SMTP_USER="})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The email address or username for your SMTP server"}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:"noreply@yourdomain.com"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"SMTP_PASS="})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The password or app-specific password for your SMTP account"}),"\n",(0,r.jsxs)(n.li,{children:["For Gmail, use an ",(0,r.jsx)(n.a,{href:"https://support.google.com/accounts/answer/185833",children:"app password"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Email Fallback",type:"warning",children:(0,r.jsx)(n.p,{children:"If neither SendGrid nor SMTP are configured, CDN Manager will fall back to Shadow Devs' SMTP server. For production use, we recommend configuring your own email service."})}),"\n",(0,r.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsxs)(n.p,{children:["Here's a complete ",(0,r.jsx)(n.code,{children:".env"})," file example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:'# License (REQUIRED)\r\nLICENSE_KEY=your-license-key-here\r\n\r\n# Server Configuration\r\nPORT=5173\r\nHOST=localhost\r\nBODY_SIZE_LIMIT=5368709120\r\n\r\n# Database\r\nMONGO_URL=mongodb://127.0.0.1:27017/cdnmanager\r\n\r\n# Domain Settings\r\nORIGIN=https://cdn.yourdomain.com\r\nPUBLIC_DOMAIN=cdn.yourdomain.com\r\n\r\n# Owner Permissions\r\nOWNERS=["admin@yourdomain.com"]\r\n\r\n# Email Configuration (SendGrid)\r\nSENDGRID_KEY=SG.your-sendgrid-key-here\r\n\r\n# Email Configuration (SMTP) - Leave as null if using SendGrid\r\nSMTP_HOST=null\r\nSMTP_PORT=null\r\nSMTP_USER=\r\nSMTP_PASS=\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>d});var s=i(6540);const r={},l=s.createContext(r);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);
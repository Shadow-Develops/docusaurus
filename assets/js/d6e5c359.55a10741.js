"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[5919],{4300:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"licenseSystem/api","title":"API Requests","description":"The verification API returns data about the license and product based on the input license key via the request header.\\\\","source":"@site/docs/licenseSystem/api.md","sourceDirName":"licenseSystem","slug":"/licenseSystem/api","permalink":"/docs/licenseSystem/api","draft":false,"unlisted":false,"editUrl":"https://github.com/Shadow-Develops/docusaurus/tree/main/docs/licenseSystem/api.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"licenseSystem","previous":{"title":"Staring Shadow License System","permalink":"/docs/licenseSystem/install/starting"},"next":{"title":"Integrations","permalink":"/docs/category/integrations-1"}}');var r=s(4848),i=s(8453);const a={sidebar_position:3},o="API Requests",l={},c=[{value:"Responses",id:"responses",level:2},{value:"Examples",id:"examples",level:2},{value:"NodeJs Fetch",id:"nodejs-fetch",level:3},{value:"NodeJs Native HTTP",id:"nodejs-native-http",level:3},{value:"LUA",id:"lua",level:3},{value:"PHP",id:"php",level:3},{value:"Python using http.client",id:"python-using-httpclient",level:3},{value:"Python using requests",id:"python-using-requests",level:3},{value:"Powershell",id:"powershell",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-requests",children:"API Requests"})}),"\n",(0,r.jsxs)(n.p,{children:["The verification API returns data about the license and product based on the input license key via the request header.",(0,r.jsx)(n.br,{}),"\n","You will be using a POST method to make a request to ",(0,r.jsx)(n.code,{children:"license.example.com/api/verify"})," and putting the license key inside the header."]}),"\n",(0,r.jsx)(n.h2,{id:"responses",children:"Responses"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="Success"',children:"{\r\n  success: true,\r\n  data: {\r\n    id: 1,\r\n    user: '291528890931871744',\r\n    product: { id: 1, name: 'Product' }\r\n  }\r\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="Failures"',children:"// Invalid Key\r\n{\r\n  success: false,\r\n  msg: \"Invalid Key Provided. | The key you are looking for doesn't exist within the database.\"\r\n}\r\n// Disabled\r\n{\r\n  success: false,\r\n  msg: 'Disabled Key | The key is currently disabled and unable to be authorized.'\r\n}\r\n// Wrong IP\r\n{\r\n  success: false,\r\n  msg: \"Mismatch IP | The provided IP doesn't match the IP linked to the key.\"\r\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.admonition,{title:"WIP",type:"warning",children:(0,r.jsx)(n.p,{children:"We are still writing out all the examples!"})}),"\n",(0,r.jsx)(n.h3,{id:"nodejs-fetch",children:"NodeJs Fetch"}),"\n",(0,r.jsxs)(n.p,{children:["Please note that the ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",children:"Fetch API"})," was added to native Node.Js in version 18; however, you can use the NPM package ",(0,r.jsx)(n.a,{href:"https://www.npmjs.com/package/node-fetch",children:"node-fetch"})," for older versions."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const response = await fetch('https://license.example.com/api/verify', {\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t\t'content-type': 'application/json',\r\n\t\tkey: 'LICENSE_KEY', // Should be a string\r\n\t},\r\n\tsignal: AbortSignal.timeout(10000), // 10 second timeout\r\n});\r\n\r\nif (!response.ok) {\r\n\tconsole.log(\r\n\t\t`HTTP ${response.status}: ${response.statusText || 'Internal Server Error'}`\r\n\t);\r\n\tprocess.exit(); // Stop application from running\r\n}\r\nconst licenseData = await response.json();\r\n\r\nif (!licenseData.success) {\r\n\tconsole.log(`Invalid Site License Key | Error Message:\\n${licenseData.msg}`);\r\n\tprocess.exit();\r\n}\r\nif (licenseData.data.product.id !== PRODUCT_ID) {\r\n\t// PRODUCT_ID must be a number, not a string!\r\n\tconsole.log(\r\n\t\t`Invalid Site License Key | Error Message: Using license key for a different product.`\r\n\t);\r\n\tprocess.exit();\r\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"nodejs-native-http",children:"NodeJs Native HTTP"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Note: Using fetch is recommended over this for applications that allow it!"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"a;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"lua",children:"LUA"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua"})}),"\n",(0,r.jsx)(n.h3,{id:"php",children:"PHP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php"})}),"\n",(0,r.jsx)(n.h3,{id:"python-using-httpclient",children:"Python using http.client"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py"})}),"\n",(0,r.jsx)(n.h3,{id:"python-using-requests",children:"Python using requests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py"})}),"\n",(0,r.jsx)(n.h3,{id:"powershell",children:"Powershell"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(6540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);
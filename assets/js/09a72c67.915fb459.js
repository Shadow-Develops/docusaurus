"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[3650],{23421(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"communityTemplate/install/config","title":"Configuration","description":"With your server and files set up, it\'s time to configure Community Template. All configuration is done through the .env file in your installation directory. This file keeps sensitive credentials out of the database and away from version control.","source":"@site/docs/communityTemplate/install/config.md","sourceDirName":"communityTemplate/install","slug":"/communityTemplate/install/config","permalink":"/communityTemplate/install/config","draft":false,"unlisted":false,"editUrl":"https://github.com/Shadow-Develops/docusaurus/tree/main/docs/communityTemplate/install/config.md","tags":[],"version":"current","lastUpdatedAt":1771995695000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"communityTemplate","previous":{"title":"Files & Nginx","permalink":"/communityTemplate/install/files"},"next":{"title":"Starting Community Template","permalink":"/communityTemplate/install/starting"}}');var r=i(74848),l=i(28453);const o={sidebar_position:4},t="Configuration",a={},d=[{value:"Required Settings",id:"required-settings",level:2},{value:"License Key",id:"license-key",level:3},{value:"Server Configuration",id:"server-configuration",level:3},{value:"Database",id:"database",level:3},{value:"Domain Settings",id:"domain-settings",level:3},{value:"Owner Permissions",id:"owner-permissions",level:2},{value:"OAuth Configuration",id:"oauth-configuration",level:2},{value:"Discord",id:"discord",level:3},{value:"Google",id:"google",level:3},{value:"Steam",id:"steam",level:3},{value:"Email Configuration",id:"email-configuration",level:2},{value:"Option 1: SendGrid",id:"option-1-sendgrid",level:3},{value:"Option 2: SMTP",id:"option-2-smtp",level:3},{value:"Miscellaneous",id:"miscellaneous",level:2},{value:"Complete Example",id:"complete-example",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,r.jsxs)(n.p,{children:["With your server and files set up, it's time to configure Community Template. All configuration is done through the ",(0,r.jsx)(n.code,{children:".env"})," file in your installation directory. This file keeps sensitive credentials out of the database and away from version control."]}),"\n",(0,r.jsx)(n.h2,{id:"required-settings",children:"Required Settings"}),"\n",(0,r.jsx)(n.h3,{id:"license-key",children:"License Key"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"LICENSE_KEY=\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Get your key from ",(0,r.jsx)(n.a,{href:"https://shadowdevs.com/license",children:"shadowdevs.com/license"})]}),"\n",(0,r.jsx)(n.li,{children:"Required for the application to start"}),"\n",(0,r.jsx)(n.li,{children:"License is verified on startup with a 72-hour grace period if the license server is temporarily unreachable"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"server-configuration",children:"Server Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"PORT=5173\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The port Community Template listens on (default: ",(0,r.jsx)(n.code,{children:"5173"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Make sure nothing else is using this port"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"HOST=localhost\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Controls how SvelteKit binds to the network interface"}),"\n",(0,r.jsxs)(n.li,{children:["Leave as ",(0,r.jsx)(n.code,{children:"localhost"})," unless you have a specific reason to change it"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"BODY_SIZE_LIMIT=50000000000\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Maximum request body size in bytes (default: 50 GB)"}),"\n",(0,r.jsx)(n.li,{children:"Affects the maximum file size that can be uploaded"}),"\n",(0,r.jsx)(n.li,{children:"Adjust downward if you don't need large uploads"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"database",children:"Database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"MONGO_URL=mongodb://127.0.0.1:27017/communitytemplate\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"MongoDB connection string"}),"\n",(0,r.jsx)(n.li,{children:"The default works if MongoDB is running locally without authentication"}),"\n",(0,r.jsxs)(n.li,{children:["For authenticated connections: ",(0,r.jsx)(n.code,{children:"mongodb://username:password@127.0.0.1:27017/communitytemplate"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"domain-settings",children:"Domain Settings"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"ORIGIN=https://community.yourdomain.com\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Your full domain URL including protocol (",(0,r.jsx)(n.code,{children:"https://"})," for production)"]}),"\n",(0,r.jsx)(n.li,{children:"Used for OAuth callbacks and session security"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"PUBLIC_DOMAIN=community.yourdomain.com\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Domain without protocol"}),"\n",(0,r.jsx)(n.li,{children:"Used in links sent via email and for display purposes"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"owner-permissions",children:"Owner Permissions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:'OWNERS=["admin@yourdomain.com"]\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["JSON array of email addresses that automatically receive ",(0,r.jsx)(n.strong,{children:"owner"})," (full admin) permissions on login"]}),"\n",(0,r.jsxs)(n.li,{children:["Supports multiple owners: ",(0,r.jsx)(n.code,{children:'["admin@yourdomain.com","other@yourdomain.com"]'})]}),"\n",(0,r.jsx)(n.li,{children:"Owner permission bypasses all other permission checks"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"oauth-configuration",children:"OAuth Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"discord",children:"Discord"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DISCORD_CLIENT_ID=\r\nDISCORD_CLIENT_SECRET=\r\nBOT_TOKEN=\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Required for Discord login and the Discord bot"}),"\n",(0,r.jsxs)(n.li,{children:["Get these from the ",(0,r.jsx)(n.a,{href:"https://discord.com/developers/applications",children:"Discord Developer Portal"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BOT_TOKEN"})," is the bot token for the same application - this is one bot, not two separate ones"]}),"\n",(0,r.jsxs)(n.li,{children:["See the ",(0,r.jsx)(n.a,{href:"../integrations/discord",children:"Discord Integration guide"})," for full setup instructions"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"google",children:"Google"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"GOOGLE_CLIENT_ID=\r\nGOOGLE_CLIENT_SECRET=\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Required for Google login"}),"\n",(0,r.jsxs)(n.li,{children:["Get these from ",(0,r.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"Google Cloud Console"})]}),"\n",(0,r.jsxs)(n.li,{children:["See the ",(0,r.jsx)(n.a,{href:"../integrations/login/google",children:"Google Login guide"})," for setup instructions"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"steam",children:"Steam"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"STEAM_API_KEY=\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Required for Steam login"}),"\n",(0,r.jsxs)(n.li,{children:["Get your key from ",(0,r.jsx)(n.a,{href:"https://steamcommunity.com/dev/apikey",children:"steamcommunity.com/dev/apikey"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"email-configuration",children:"Email Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Community Template uses email for passwordless authentication (magic codes). Configure either SendGrid or SMTP. If neither is configured, it will fall back to Shadow Devs' SMTP server."}),"\n",(0,r.jsx)(n.h3,{id:"option-1-sendgrid",children:"Option 1: SendGrid"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"SENDGRID_KEY=SG.your-sendgrid-key-here\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Get your API key from ",(0,r.jsx)(n.a,{href:"https://app.sendgrid.com/settings/api_keys",children:"SendGrid"})]}),"\n",(0,r.jsx)(n.li,{children:'Create a key with "Mail Send" permissions'}),"\n",(0,r.jsx)(n.li,{children:"If using SendGrid, leave SMTP variables empty"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"option-2-smtp",children:"Option 2: SMTP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"SMTP_HOST=smtp.example.com\r\nSMTP_PORT=587\r\nSMTP_USER=noreply@yourdomain.com\r\nSMTP_PASS=your_password\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Standard SMTP credentials"}),"\n",(0,r.jsxs)(n.li,{children:["Common ports: ",(0,r.jsx)(n.code,{children:"587"})," (TLS), ",(0,r.jsx)(n.code,{children:"465"})," (SSL)"]}),"\n",(0,r.jsxs)(n.li,{children:["For Gmail, use an ",(0,r.jsx)(n.a,{href:"https://support.google.com/accounts/answer/185833",children:"App Password"})," with ",(0,r.jsx)(n.code,{children:"smtp.gmail.com"})," on port ",(0,r.jsx)(n.code,{children:"587"})]}),"\n",(0,r.jsxs)(n.li,{children:["Set ",(0,r.jsx)(n.code,{children:"SMTP_HOST=null"})," if using SendGrid instead"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"miscellaneous",children:"Miscellaneous"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"DEFAULT_AVATAR=/img/default-avatar.png\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Path to the default avatar image used for new users"}),"\n",(0,r.jsxs)(n.li,{children:["Relative to the ",(0,r.jsx)(n.code,{children:"static/"})," directory"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:'# License (REQUIRED)\r\nLICENSE_KEY=your-license-key-here\r\n\r\n# Server\r\nPORT=5173\r\nHOST=localhost\r\nBODY_SIZE_LIMIT=50000000000\r\n\r\n# Database\r\nMONGO_URL=mongodb://127.0.0.1:27017/communitytemplate\r\n\r\n# Domain\r\nORIGIN=https://community.yourdomain.com\r\nPUBLIC_DOMAIN=community.yourdomain.com\r\n\r\n# Owners\r\nOWNERS=["admin@yourdomain.com"]\r\n\r\n# Discord\r\nDISCORD_CLIENT_ID=your_client_id\r\nDISCORD_CLIENT_SECRET=your_client_secret\r\nBOT_TOKEN=your_bot_token\r\n\r\n# Google\r\nGOOGLE_CLIENT_ID=your_google_client_id\r\nGOOGLE_CLIENT_SECRET=your_google_client_secret\r\n\r\n# Steam\r\nSTEAM_API_KEY=your_steam_api_key\r\n\r\n# Email (SendGrid)\r\nSENDGRID_KEY=SG.your-sendgrid-key\r\n\r\n# Email (SMTP) - leave SMTP_HOST=null if using SendGrid\r\nSMTP_HOST=null\r\nSMTP_PORT=\r\nSMTP_USER=\r\nSMTP_PASS=\r\n\r\n# Misc\r\nDEFAULT_AVATAR=/img/default-avatar.png\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453(e,n,i){i.d(n,{R:()=>o,x:()=>t});var s=i(96540);const r={},l=s.createContext(r);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);
"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[8476],{11243(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"communityTemplate/integrations/discord","title":"Discord","description":"Community Template has a built-in Discord integration that enables Discord OAuth login, a Discord bot, automatic server join, audit log forwarding, and more.","source":"@site/docs/communityTemplate/integrations/discord.md","sourceDirName":"communityTemplate/integrations","slug":"/communityTemplate/integrations/discord","permalink":"/communityTemplate/integrations/discord","draft":false,"unlisted":false,"editUrl":"https://github.com/Shadow-Develops/docusaurus/tree/main/docs/communityTemplate/integrations/discord.md","tags":[],"version":"current","lastUpdatedAt":1771995695000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"communityTemplate","previous":{"title":"Integrations","permalink":"/communityTemplate/integrations/"},"next":{"title":"Email","permalink":"/communityTemplate/integrations/email"}}');var t=i(74848),s=i(28453);const r={sidebar_position:1},l="Discord",a={},d=[{value:"Create a Discord Application",id:"create-a-discord-application",level:2},{value:"Invite the Bot to Your Server",id:"invite-the-bot-to-your-server",level:2},{value:"Discord Login",id:"discord-login",level:2},{value:"Audit Log Forwarding",id:"audit-log-forwarding",level:2},{value:"Application Notifications",id:"application-notifications",level:2},{value:"Member Role Assignment",id:"member-role-assignment",level:2},{value:"Staff Role Mapping",id:"staff-role-mapping",level:2},{value:"Blog &amp; Newsletter Notifications",id:"blog--newsletter-notifications",level:2},{value:"Discord Ban Sync",id:"discord-ban-sync",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"discord",children:"Discord"})}),"\n",(0,t.jsx)(n.p,{children:"Community Template has a built-in Discord integration that enables Discord OAuth login, a Discord bot, automatic server join, audit log forwarding, and more."}),"\n",(0,t.jsx)(n.admonition,{title:"Notice",type:"info",children:(0,t.jsxs)(n.p,{children:["The Discord Bot Token in ",(0,t.jsx)(n.strong,{children:"Admin Panel > Discord"})," is the same token as ",(0,t.jsx)(n.code,{children:"BOT_TOKEN"})," in your ",(0,t.jsx)(n.code,{children:".env"})," file. This is a single bot - not two separate ones."]})}),"\n",(0,t.jsx)(n.h2,{id:"create-a-discord-application",children:"Create a Discord Application"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to the ",(0,t.jsx)(n.a,{href:"https://discord.com/developers/applications",children:"Discord Developer Portal"})," and create a new application."]}),"\n",(0,t.jsx)(n.li,{children:"Give it a name and icon."}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to the ",(0,t.jsx)(n.strong,{children:"Bot"})," tab and add a bot profile."]}),"\n",(0,t.jsxs)(n.li,{children:["Under the bot settings, ",(0,t.jsx)(n.strong,{children:"enable all Privileged Gateway Intents"})," (Presence Intent, Server Members Intent, Message Content Intent)."]}),"\n",(0,t.jsxs)(n.li,{children:["Go to the ",(0,t.jsx)(n.strong,{children:"Installation"})," tab, disable ",(0,t.jsx)(n.code,{children:"User Install"}),", and set ",(0,t.jsx)(n.code,{children:"Install Link"})," to ",(0,t.jsx)(n.code,{children:"None"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Copy the following from the developer portal into your ",(0,t.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Client ID"})," \u2192 ",(0,t.jsx)(n.code,{children:"DISCORD_CLIENT_ID"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Client Secret"})," (from OAuth2 tab) \u2192 ",(0,t.jsx)(n.code,{children:"DISCORD_CLIENT_SECRET"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Bot Token"})," (from Bot tab) \u2192 ",(0,t.jsx)(n.code,{children:"BOT_TOKEN"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"invite-the-bot-to-your-server",children:"Invite the Bot to Your Server"}),"\n",(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"CLIENT_ID_HERE"})," with your application's Client ID and open the link in a browser:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://discord.com/oauth2/authorize?client_id=CLIENT_ID_HERE&permissions=8&integration_type=0&scope=bot\n"})}),"\n",(0,t.jsx)(n.p,{children:"This invites the bot with Administrator permissions, which are required for role assignment and ban syncing."}),"\n",(0,t.jsx)(n.h2,{id:"discord-login",children:"Discord Login"}),"\n",(0,t.jsx)(n.p,{children:"To use Discord as a login method, add your callback URL to the Discord application's redirect list."}),"\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.a,{href:"https://discord.com/developers/applications",children:"Discord Developer Portal"}),", go to the ",(0,t.jsx)(n.strong,{children:"OAuth2"})," tab and add:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://yourdomain.com/auth/discord/callback\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"yourdomain.com"})," with your actual domain. Discord login can be enabled or disabled in ",(0,t.jsx)(n.strong,{children:"Admin Panel > Settings"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"audit-log-forwarding",children:"Audit Log Forwarding"}),"\n",(0,t.jsxs)(n.p,{children:["Admin actions can be automatically logged to Discord channels. Configure channel IDs in ",(0,t.jsx)(n.strong,{children:"Admin Panel > Discord > Logs"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Available log channels:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"General"})," - Logins and general activity"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audit"})," - Admin panel actions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Blog"})," - New blog post notifications"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Newsletter"})," - Newsletter send notifications"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Applications"})," - New application submissions"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"application-notifications",children:"Application Notifications"}),"\n",(0,t.jsxs)(n.p,{children:["When a new application is submitted, the bot can ping a role in a Discord channel. Set the channel ID and ping role ID in ",(0,t.jsx)(n.strong,{children:"Admin Panel > Discord"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"member-role-assignment",children:"Member Role Assignment"}),"\n",(0,t.jsx)(n.p,{children:"Users who log in with Discord can be automatically given a Discord role after a configurable delay."}),"\n",(0,t.jsxs)(n.p,{children:["Set the role ID and delay (in hours) in ",(0,t.jsx)(n.strong,{children:"Admin Panel > Discord > Member Role"}),". The role is assigned via a cron job that runs every hour."]}),"\n",(0,t.jsx)(n.h2,{id:"staff-role-mapping",children:"Staff Role Mapping"}),"\n",(0,t.jsxs)(n.p,{children:["Sync Discord server roles to Community Template admin permissions. Configure mappings in ",(0,t.jsx)(n.strong,{children:"Admin Panel > Discord > Staff Role Mappings"}),". When a user with a mapped Discord role logs in, they are automatically granted the corresponding admin permission."]}),"\n",(0,t.jsx)(n.h2,{id:"blog--newsletter-notifications",children:"Blog & Newsletter Notifications"}),"\n",(0,t.jsxs)(n.p,{children:["New blog posts and newsletter campaigns can automatically send a Discord message. Configure the default channel ID and ping role in ",(0,t.jsx)(n.strong,{children:"Admin Panel > Discord > Notifications"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ping Role ID must be a valid role ID (e.g., ",(0,t.jsx)(n.code,{children:"730191102706974823"}),") or the word ",(0,t.jsx)(n.code,{children:"everyone"})," or ",(0,t.jsx)(n.code,{children:"here"})," for @everyone / @here."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"discord-ban-sync",children:"Discord Ban Sync"}),"\n",(0,t.jsx)(n.p,{children:"If a user is banned directly in your Discord server, they will also be blocked from accessing Community Template's restricted areas (downloads, admin panel) on their next login attempt."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453(e,n,i){i.d(n,{R:()=>r,x:()=>l});var o=i(96540);const t={},s=o.createContext(t);function r(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);